<div class="wrapper">
  <app-contest-menu
    *ngIf="(contest | async) as contest"
    class="task-menu"
    [meetingText]="contest.summary"
    meetingLink=""
    timer="3:59:59"
    [contest]="contest.name"
    [tasks]="contest.problems"
    [currentTaskId]="currentTaskId"
  ></app-contest-menu>

  <div class="task" *ngIf="!(isFetching | async); else loading">
    <app-contest-task
      *ngIf="(problem | async) as problem"
      [memoryLimit]="problem.memoryLimit"
      [timeLimit]="problem.timeLimit"
      [content]="problem.content"
      [correct]="problem.correct"
      [input]="problem.input"
      [name]="problem.name"
      [submissions]="submissions | async"
      (getSubmissions)="getSubmissions()"
      (addSubmission)="addSubmission($event)">
    </app-contest-task>

    <app-contest-pagination
      *ngIf="(paginationItems | async) as paginationItems"
      class="pagination"
      [previous]="paginationItems[0]"
      [next]="paginationItems[1]"
    ></app-contest-pagination>
  </div>

  <ng-template #loading>
    <div class="sk-fading-circle">
      <div class="sk-circle1 sk-circle"></div>
      <div class="sk-circle2 sk-circle"></div>
      <div class="sk-circle3 sk-circle"></div>
      <div class="sk-circle4 sk-circle"></div>
      <div class="sk-circle5 sk-circle"></div>
      <div class="sk-circle6 sk-circle"></div>
      <div class="sk-circle7 sk-circle"></div>
      <div class="sk-circle8 sk-circle"></div>
      <div class="sk-circle9 sk-circle"></div>
      <div class="sk-circle10 sk-circle"></div>
      <div class="sk-circle11 sk-circle"></div>
      <div class="sk-circle12 sk-circle"></div>
    </div>
  </ng-template>
</div>

