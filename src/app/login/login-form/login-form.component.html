<form
  (ngSubmit)="onSubmit()"
  [formGroup]="loginForm"
  class="form"
>
  <span class="form__title">Вход</span>

  <div class="form__fields">
    <label class="form__field">Логин
      <app-input
        autocomplete="username"
        (valueChange)="handleInputChange()"
        [hasError]="!!(error | async)"
        [formControl]="login">
      </app-input>
    </label>

    <label class="form__field">Пароль
      <app-input
        autocomplete="current-password"
        (valueChange)="handleInputChange()"
        [hasError]="!!(error | async)"
        [formControl]="password"
        type="password">
      </app-input>
    </label>

    <span class="form__error">{{error | async}}</span>
  </div>

  <div class="form__controls">
    <button
      type="submit"
      class="app-button_primary"
      [disabled]="(isFetching | async) || !loginForm.valid"
      [class.app-button--loading]="isFetching | async"
    >
      Войти
    </button>
    <app-checkbox
      [checked]="rememberMe"
      (change)="rememberMe = $event"
    >
      Запомнить меня
    </app-checkbox>
  </div>

  <div class="form__description">
    По всем текущим вопросам, а также в случае, если<br>
    у вас что-то не работает, пишите на форум или<br>
    в группу <a [href]="telegramLink">telegram
    <app-icon icon="telegram"></app-icon>
  </a>
  </div>
</form>
